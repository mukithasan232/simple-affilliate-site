module.exports=[87552,a=>{a.v({actions:"admin-module__4WpgRW__actions",adminDashboard:"admin-module__4WpgRW__adminDashboard",adminHeader:"admin-module__4WpgRW__adminHeader",badge:"admin-module__4WpgRW__badge",deleteBtn:"admin-module__4WpgRW__deleteBtn",editForm:"admin-module__4WpgRW__editForm",formGrid:"admin-module__4WpgRW__formGrid",formGroup:"admin-module__4WpgRW__formGroup",headerActions:"admin-module__4WpgRW__headerActions",loginForm:"admin-module__4WpgRW__loginForm",loginInput:"admin-module__4WpgRW__loginInput",loginPage:"admin-module__4WpgRW__loginPage",modal:"admin-module__4WpgRW__modal",modalActions:"admin-module__4WpgRW__modalActions",modalOverlay:"admin-module__4WpgRW__modalOverlay",scrapeBox:"admin-module__4WpgRW__scrapeBox",statCard:"admin-module__4WpgRW__statCard",statValue:"admin-module__4WpgRW__statValue",stats:"admin-module__4WpgRW__stats",table:"admin-module__4WpgRW__table",tableImg:"admin-module__4WpgRW__tableImg",tableWrapper:"admin-module__4WpgRW__tableWrapper",titleCell:"admin-module__4WpgRW__titleCell"})},10179,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(87552);function e(){let[a,e]=(0,c.useState)(!1),[f,g]=(0,c.useState)(""),[h,i]=(0,c.useState)([]),[j,k]=(0,c.useState)(!1),[l,m]=(0,c.useState)(""),[n,o]=(0,c.useState)(null),[p,q]=(0,c.useState)(!1);(0,c.useEffect)(()=>{a&&r()},[a]);let r=async()=>{let a=await fetch("/api/products");i(await a.json())},s=async()=>{if(l){k(!0);try{let a=await fetch("/api/admin/scrape",{method:"POST",headers:{"Content-Type":"application/json","x-admin-secret":f},body:JSON.stringify({url:l})}),b=await a.json();if(b.error)throw Error(b.error);o(b),q(!0)}catch(a){alert(a.message)}finally{k(!1)}}},t=async a=>{a.preventDefault();try{(await fetch("/api/products",{method:"POST",headers:{"Content-Type":"application/json","x-admin-secret":f},body:JSON.stringify(n)})).ok&&(alert("Product saved successfully!"),q(!1),r())}catch(a){alert("Failed to save product")}},u=async a=>{if(confirm("Are you sure you want to delete this product?"))try{(await fetch(`/api/products?id=${a}`,{method:"DELETE",headers:{"x-admin-secret":f}})).ok?r():alert("Unauthorized or error")}catch(a){alert("Delete failed")}};return a?(0,b.jsxs)("div",{className:d.default.adminDashboard,children:[(0,b.jsxs)("div",{className:"container",children:[(0,b.jsxs)("header",{className:d.default.adminHeader,children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h1",{children:["Admin ",(0,b.jsx)("span",{className:"text-gradient",children:"Dashboard"})]}),(0,b.jsx)("p",{children:"Manage your affiliate products and automation"})]}),(0,b.jsx)("div",{className:d.default.headerActions,children:(0,b.jsxs)("div",{className:d.default.scrapeBox,children:[(0,b.jsx)("input",{type:"text",placeholder:"Paste Amazon Link...",value:l,onChange:a=>m(a.target.value)}),(0,b.jsx)("button",{className:"btn btn-primary",onClick:s,disabled:j,children:j?"Scraping...":"Smart Add"})]})})]}),(0,b.jsxs)("div",{className:d.default.stats,children:[(0,b.jsxs)("div",{className:d.default.statCard,children:[(0,b.jsx)("h3",{children:"Total Products"}),(0,b.jsx)("p",{className:d.default.statValue,children:h.length})]}),(0,b.jsxs)("div",{className:d.default.statCard,children:[(0,b.jsx)("h3",{children:"Featured"}),(0,b.jsx)("p",{className:d.default.statValue,children:h.filter(a=>a.featured).length})]}),(0,b.jsxs)("div",{className:d.default.statCard,children:[(0,b.jsx)("h3",{children:"Categories"}),(0,b.jsx)("p",{className:d.default.statValue,children:[...new Set(h.map(a=>a.category))].length})]})]}),(0,b.jsx)("div",{className:d.default.tableWrapper,children:(0,b.jsxs)("table",{className:d.default.table,children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{children:"Image"}),(0,b.jsx)("th",{children:"Title"}),(0,b.jsx)("th",{children:"Category"}),(0,b.jsx)("th",{children:"Price"}),(0,b.jsx)("th",{children:"Actions"})]})}),(0,b.jsx)("tbody",{children:h.map(a=>(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{children:(0,b.jsx)("img",{src:a.image,alt:"",className:d.default.tableImg})}),(0,b.jsx)("td",{children:(0,b.jsx)("div",{className:d.default.titleCell,children:a.title})}),(0,b.jsx)("td",{children:(0,b.jsx)("span",{className:d.default.badge,children:a.category})}),(0,b.jsx)("td",{children:(0,b.jsxs)("strong",{children:["$",a.price]})}),(0,b.jsx)("td",{className:d.default.actions,children:(0,b.jsx)("button",{className:d.default.deleteBtn,onClick:()=>u(a.id),children:"Delete"})})]},a.id))})]})})]}),p&&(0,b.jsx)("div",{className:d.default.modalOverlay,children:(0,b.jsxs)("div",{className:d.default.modal,children:[(0,b.jsxs)("h2",{children:["Confirm ",(0,b.jsx)("span",{className:"text-gradient",children:"Scraped Data"})]}),(0,b.jsxs)("form",{onSubmit:t,className:d.default.editForm,children:[(0,b.jsxs)("div",{className:d.default.formGrid,children:[(0,b.jsxs)("div",{className:d.default.formGroup,children:[(0,b.jsx)("label",{children:"Title"}),(0,b.jsx)("input",{type:"text",value:n?.title,onChange:a=>o({...n,title:a.target.value})})]}),(0,b.jsxs)("div",{className:d.default.formGroup,children:[(0,b.jsx)("label",{children:"Price ($)"}),(0,b.jsx)("input",{type:"number",step:"0.01",value:n?.price,onChange:a=>o({...n,price:parseFloat(a.target.value)})})]}),(0,b.jsxs)("div",{className:d.default.formGroup,children:[(0,b.jsx)("label",{children:"Category"}),(0,b.jsxs)("select",{value:n?.category,onChange:a=>o({...n,category:a.target.value}),children:[(0,b.jsx)("option",{value:"Laptops",children:"Laptops"}),(0,b.jsx)("option",{value:"Peripherals",children:"Peripherals"}),(0,b.jsx)("option",{value:"Audio",children:"Audio"}),(0,b.jsx)("option",{value:"Monitors",children:"Monitors"}),(0,b.jsx)("option",{value:"General",children:"General"})]})]}),(0,b.jsxs)("div",{className:d.default.formGroup,children:[(0,b.jsx)("label",{children:"Badge"}),(0,b.jsx)("input",{type:"text",value:n?.badge,onChange:a=>o({...n,badge:a.target.value}),placeholder:"e.g., Best Overall"})]})]}),(0,b.jsxs)("div",{className:d.default.modalActions,children:[(0,b.jsx)("button",{type:"button",className:"btn",onClick:()=>q(!1),children:"Cancel"}),(0,b.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Add Product To Live Site"})]})]})]})})]}):(0,b.jsx)("div",{className:d.default.loginPage,children:(0,b.jsxs)("form",{onSubmit:a=>{a.preventDefault(),"admin123"===f?e(!0):alert("Invalid password")},className:d.default.loginForm,children:[(0,b.jsx)("h1",{children:"Admin Access"}),(0,b.jsx)("input",{type:"password",placeholder:"Enter password",value:f,onChange:a=>g(a.target.value),className:d.default.loginInput}),(0,b.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Login"})]})})}a.s(["default",()=>e])}];

//# sourceMappingURL=src_app_admin_25879983._.js.map